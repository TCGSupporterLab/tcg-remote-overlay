# Remote Duel Overlay - Walkthrough

## 🚀 完成した機能
React + Vite で構築した、サーバーレス・クライアントサイドWebアプリです。

### 1. 共通機能（OBSツール）
-   **OBSモード**: 画面右上の「通常 / 透過 / GB」ボタンで背景を切り替え可能。
-   **★新機能: オーバーレイ起動**:
    -   「オーバーレイ起動」ボタンを押すと、**操作ボタンのない表示専用ウィンドウ**が開きます。
    -   このウィンドウのURL（`?mode=overlay`付き）をOBSの「ブラウザソース」に指定することで、スッキリした画面を配信に乗せることができます。
    -   操作は元のウィンドウで行うと、自動的に同期されます。
-   **サイコロ・コイン**: 画面下部のボタンで実行。結果が画面中央に大きく表示され、3秒後に自動で消えます。
-   **リセット**: 全ての状態を初期化します。

### 2. 遊戯王モード (遊戯王OCG)
-   **ライフ計算機**: 「あなた」と「相手」のライフを管理。
-   **電卓入力**: 値を入力して `ダメージ` / `回復` を選択。
-   **便利機能**: `ライフ半減` ボタン搭載。
-   **ログ表示**: ライフの変動履歴を表示。

### 3. ホロライブOCGモード (ホロライブOCG)
-   **OCRスキャナー**:
    -   `カメラ起動` でカメラを起動（スマホ対応）。
    -   `キャプチャ & 解析` でその瞬間の映像を静止画としてキャプチャし、文字認識を実行。
    -   **Google検索連携**: 認識したテキストで「〜 ホロライブOCG」としてGoogle検索するボタンを表示。

### 4. ビジュアル強化 (New!)
-   **リッチなライフ表示**:
    -   **メタリックデザイン**: SVGによる光沢感のあるデジタル数字と発光エフェクト。
-   **個別回転機能**:
    -   操作画面（Controller）の「回転ボタン（↺）」を押すことで、**配信画面（Overlay）側だけ**で、そのプレイヤーのパネルを180度回転可能。
    -   リモートデュエルのカメラ配置に合わせて、相手に見やすい向きに調整できます。
-   **レイアウト調整**:
    -   プレイヤー名を「Player1」「Player2」とし、シンプルで視認性の高いデザインに変更。
    -   ホロライブOCGモードのオーバーレイレイアウトを遊戯王モードと統一し、サイコロ・コインが常に画面中央に表示されるように修正。
    -   **操作画面（Controller）**: コンテンツ全体を大幅に縮小 (`max-w-sm`) し、ボタンや余白を最小限に抑えることで、省スペース化を実現。スクロールも可能。
    -   **ライフ表示の最適化**: コントローラー画面では重厚な画像表示を廃止し、シンプルで視認性の高いテキスト表示に変更することで、縦幅を劇的に削減。
    -   **3Dサイコロ・コイン (コンパクト版)**: アニメーション付きの3Dサイコロ・コインを、コントローラー画面にもスペースを圧迫しないコンパクトサイズで復活。
    -   **レイアウト統一 (Controller)**: 遊戯王OCGモードの操作画面を、配信画面同様の「Player1 - サイコロ/コイン - Player2」の横並び配置に変更し、直感的な操作性を向上。
    -   **計算機UIの刷新**: 常に表示される電卓パネルを実装。プレイヤーカードをクリックして対象を選択し、数値を入力して `+` `-` `÷2` ボタンで即座に反映させる直感的な操作フローを実現。`00` `000` ボタンも搭載し、高額なライフ計算もスムーズに。さらに **Undo / Redo** 機能により、間違った操作も即座に取り消し・やり直しが可能。

---

## 📦 使い方 (How to Use)

### ローカルで動かす場合
```bash
npm install
npm run dev
```

> [!TIP]
> **Windows (PowerShell) でエラーが出る場合**
> 「スクリプトの実行が無効になっている」というエラーが出たら、以下のコマンドを試してください。
> ```powershell
> cmd /c "npm run dev"
> ```
> または、PowerShellではなくコマンドプロンプト(cmd.exe)を使用してください。

ブラウザで `http://localhost:5173` を開きます。

### OBSへの追加方法
1.  ローカルサーバーを起動している状態で、OBSのソース追加「ブラウザ」を選択。
2.  URLに `http://localhost:5173` を入力。
3.  幅 `1920`, 高さ `1080` (または任意のサイズ) に設定。
4.  アプリ画面右上の `OBS Mode` ボタンを押し、`TRANSPARENT` に設定。
5.  Webカメラの上に重ねて配置すれば完了！

### 友人に配布する場合 (GitHub Pages)
1.  このリポジトリをGitHubにプッシュ。
2.  GitHubのリポジトリ設定「Pages」で、`Source` を `GitHub Actions` または `Deploy from branch` に設定。
3.  発行されたURLを友人に送るだけ！

※ `vite.config.ts` の `base` 設定をリポジトリ名に合わせて変更する必要がある場合があります（例: `base: '/RemoteDuelTool/'`）。
