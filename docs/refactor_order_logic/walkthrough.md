# フィルタスタイルの汎用化とハードコード排除の実装完了

`metadata.json` 内の `__order` キーに基づき、フィルタタブと項目の表示順を自由に制御できる機能を実装しました。また、特定ゲームに依存したハードコードを排除し、完全にメタデータ駆動な設計へと進化させました。

## 実施内容

### 1. 表示順序ロジックのリファクタリング
- **グローバル設定への移行**: `useLocalCards.ts` で `__order` を抽出し、全カード共通の `metadataOrder` として管理。各カードへの属性付与を廃止し、メモリ効率を改善しました。
- **ソートの完全制御**: `__order` の定義順に従ってタブ（カテゴリ）とボタン（項目）をソート。定義外の項目は自動的に末尾へ昇順で配置されます。

### 2. ハードコード箇所の排除と UI 汎用化
- **デザインの統一**: `FilterPanel.tsx` から特定の「色」カテゴリに対する背景色（赤、青、緑等）を削除し、すべてのフィルタ項目で Cyan テーマの統一デザインを適用しました。これにより、未知のメタデータ項目が増えても一貫した UI を維持できます。
- **初期表示タブの自動選定**: 以前は「色」や「タイプ」を優先的に探していましたが、現在は `__order` の最初のカテゴリ、または利用可能な最初のカテゴリを自動的に選択します。
- **型定義の汎用化**: `useCardSearch.ts` の `Card` インターフェースをシンプル化し、特定ゲームのフィールド（HP等）への依存を排除。すべてのメタデータを柔軟に扱えるようにしました。

## 検証結果
- [x] **フィルタの並び順**: 期待通り「色」「タイプ」「Bloom」の順でタブが並ぶ。
- [x] **デザイン**: すべてのボタンが Cyan テーマで統一され、視認性が向上。
- [x] **自動対応**: メタデータ内の日本語キーや新しいプロパティが、コードを修正することなく自動的にフィルタとして抽出される。
- [x] **メモリ効率**: 1700枚以上のカードデータから冗長なデータが削除され、UI の応答性が改善。

---
これにより、どのような TCG のメタデータが来ても、設定ファイル (`metadata.json`) を書き換えるだけで理想的なフィルタ表示を実現できる汎用的な検索システムが完成しました。
