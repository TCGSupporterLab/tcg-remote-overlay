# 実装計画: 独立ウィジェット・アーキテクチャへの移行

## 概要
本リファクタリングでは、特定のゲームモード（遊戯王/ホロライブ）に依存した命名を排除し、5つの独立したウィジェット（カード、ライフ計算機、SPマーカー、ダイス、コイン）として再定義します。

## 変更内容

### 1. 識別子の刷新
- `OverlayWidget.tsx`: `gameMode` プロップを `widgetId` に改名。
- `App.tsx`: 
    - `yugioh` -> `lp_calculator`
    - `hololive_sp_marker` -> `sp_marker`
    - 状態変数 `gameMode` -> `activePreset`

### 2. UIコンポーネントの構造
- `SettingsMenu.tsx` / `WidgetsTab.tsx` / `WidgetSections.tsx`:
    - ウィジェット設定の各アコーディオンは、それぞれのゲーム専用ツールを格納するという構造を重視し、「遊戯王」「ホロライブ」のラベルを維持。
    - セクションの見出しを「専用ウィジェット」として定義。
    - 各ウィジェットの内部機能自体は独立しているが、設定画面ではユーザーの直感に合わせゲームごとの分類を継続。

### 3. 表示プリセットの導入
- 「ゲームモード」という用語を「表示プリセット (Display Preset)」に置き換え。
- プリセット選択時のみ特定のウィジェットが表示されるロジックは維持しつつ、ユーザーが自由に組み合わせを変更できることを強調。

### 4. ドキュメントの同期
- `README.md`: 主な機能セクションをウィジェットベースに書き換え。
- `docs/system_specifications/index.md`: 構成図と各機能へのリンク名称を更新。

## 影響範囲
- `localStorage` のキーが変更されるため、ウィジェットの配置（座標・スケール）およびアクティブなプリセット設定が一度リセットされます。
- `BroadcastChannel` のメッセージフィルターが `widgetId` ベースに移行します。
