# 実装計画: マイレイアウト機能の強化と用語の統一

マイレイアウトの保存機能に映像調整（ズーム、位置、反転、トリミング、回転等）を含めるように拡張し、アプリケーション全体の用語を「ビデオ」から「映像」に統一します。

## 提案される変更

### 用語の統一
- `src/` 配下の全てのコンポーネントおよび `docs/system_specifications/` 配下の仕様書において、「ビデオ」という文言を「映像」に置換しました。
- 例: 「ビデオソース」→「映像ソース」、「ビデオ調整」→「映像調整」

### 共通保存ダイアログの導入
- レイアウト保存時に「名前」「保存対象（ウィジェット/映像調整）」「適用時に他を隠す」を選択できる `SaveLayoutDialog.tsx` を実装しました。

### レイアウト一覧での可視化
- 保存済みのレイアウト一覧において、各項目の名称の横に、保存内容を示す小さなアイコンを表示するようにしました。
    - **Layers（レイヤー）アイコン**: ウィジェット配置が保存されている場合。
    - **Video（映像）アイコン**: 映像調整が保存されている場合。
- 適用時に他のウィジェットを隠す設定になっているレイアウトには `Snapshot` バッジを表示します。

### 他を隠す設定の個別化と統合
- 現状のグローバルな「適用時に他を非表示」設定を廃止し、**レイアウトごとに「適用時に他を隠す（スナップショットモード）」フラグを保存するように変更**しました。
- **保存スコープの切り替え**: 「ウィジェットを保存」にチェックを入れた際に対象となる範囲を、入り口に応じて切り替えます。
    - **アクションバー**: **選択中のウィジェットのみ**を保存対象とする。
    - **映像調整/設定メニュー**: **非表示を含む全ウィジェット**を保存対象とする。
- **保存ダイアログの初期設定（プリセット）**: 呼び出し元に応じて、デフォルト値を自動設定します。

### デフォルトレイアウトの更新
- `src/data/default_layout/` 配下の既存のレイアウトファイルに `hideOthers: true` を追加しました。

## 修正対象ファイル

### データ構造とストア
- `src/types/widgetTypes.ts`: `MyLayout` インターフェースの拡張。
- `src/store/useWidgetStore.ts`: `saveLayout`, `applyLayout` の拡張。

### UIコンポーネント
- `src/App.tsx`: 共通保存ダイアログの統合。
- `src/components/SaveLayoutDialog.tsx`: 新規作成。
- `src/components/SelectionActionBar.tsx`: 保存ダイアログへの接続。
- `src/components/SettingsMenu/`: 各タブの用語更新とダイアログ接続。
- `src/components/VideoBackground.tsx`: 用語更新と保存ボタンの追加。
