# 実装計画: ZIP検出モーダルのレスポンス向上

## 1. 状態定義の変更
`useLocalCards.ts` の `ZipMetadata` 型に `isAnalyzing` プロパティを追加。
解析の各フェーズ（開始、進捗、完了、エラー）を適切に表現できるようにする。

## 2. 解析ロジックの最適化 (`analyzeZip`)
- `fflate.unzip` (全展開) から `fflate.Unzip` (ストリーミング読み込み) へ移行。
- `uz.onfile` ハンドラ内でファイル名をカウントし、必要に応じてコールバックを実行するように修正。
- データのデコードをスキップすることで、CPUとメモリの消費を最小限に抑える。

## 3. App.tsx の同期処理の分離
- ファイルを受け取った直後に `setPendingZip` を呼び出し、UIを描画。
- 重い処理である `analyzeZip` は `Promise` として実行し、完了時に改めてステートを更新する。

## 4. UIのフィードバック
- 解析中フラグが立っている間、カード枚数表示の横に「解析中...」のステータスを表示。
- ボタンの `disabled` 属性を制御。
