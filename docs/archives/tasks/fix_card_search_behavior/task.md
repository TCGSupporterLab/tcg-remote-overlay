# タスク: カード検索画面の挙動不審と無限ループの修正

## 概要
カード検索画面において、カードやフォルダをクリックした際に選択・選択解除が繰り返されたり、パンくずリストでの移動が不安定になったりする問題を修正します。

## 課題
1. **Blob URL によるマルチタブ・ループ**: 各タブで生成される Blob URL (imageUrl) が異なるため、一方のタブが他方のタブのステートを受信した際、自身の Blob URL で上書き（リリバイズ）しようとして再放送し、無限ループが発生している。
2. **初期化時のステート競合**: 新しいウィンドウ（検索画面など）を開いた際、初期状態の空フィルターが放送され、既存のウィンドウの検索状態を上書き・クリアしてしまう。
3. **フォルダ同期の早期実行**: `App.tsx` において、スキャンが完了する前（isLoading中）にフォルダ名の不一致を検知してステートをクリアしてしまう場合がある。

## 解決策
1. `updateShared` に `skipBroadcast` オプションを追加。
2. データの再同期（Blob URL の更新）を行う `useEffect` では、`skipBroadcast: true` を使用して他のタブにループを伝播させないようにする。
3. 初期化時のフィルターリセットも `skipBroadcast: true` にし、既存のタブへ影響を与えないようにする。
4. `App.tsx` の同期ロジックに `isLoading` ガードを追加。
