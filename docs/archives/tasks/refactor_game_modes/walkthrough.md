# 修正内容の確認: ゲームモード廃止とマイレイアウトへの完全移行

今回の修正では、アプリケーションの核となるロジックおよびUIから、特定のカードゲーム（遊戯王・ホロライブ）を前提とした「ゲームモード」の概念を完全に削除し、全てのカスタマイズを汎用的な「マイレイアウト」機能に統合しました。

## 主な変更点

### 1. モード依存ロジックの削除
- `useWidgetStore.ts`: `activePreset` 状態を削除し、ウィジェットの表示・設定をフラットな構成に整理しました。
- `App.tsx`: 
    - `Alt + 1` (遊戯王) および `Alt + 2` (ホロライブ) のショートカットを削除しました。
    - テンキー `.`（ドット）の挙動を、モードに関わらず「ダイスロール（素早く2回でコインタス）」に統一しました。
    - `O` キーの挙動を刷新：1回押しで「SPマーカー反転」、素早く2回押しで「SPマーカーの一時表示/非表示切り替え」となります（一時非表示は再起動時にリセットされます）。

### 2. 設定画面の整理と構造化
- `SettingsMenu` & `WidgetsTab`: 
    - 「専用ウィジェット」カテゴリ内で `YugiohSection` および `HololiveSection` を使用し、修正前のデザイン（各ゲーム固有のアイコンと色、二重のネスト構造）を完全に復元しました。
    - 各セクションの開閉状態（LocalStorage）も以前の挙動に戻しています。
- `GuideTab`: 
    - モード依存の操作説明を削除し、レイアウト機能を中心とした説明に更新しました。

### 3. おすすめ設定としてのデフォルトレイアウト
- `src/data/default_layout/`: 
    - `遊戯王OCG_layout.json` および `ホロライブOCG_layout.json` は、各ゲームの推奨構成としてそのまま維持しました。
    - ファイル名や内部のレイアウト名も変更せず、ユーザーが「おすすめ設定」として迷わず選択できるように配慮しました。
- システム仕様書: 
    - ファイル名を `hololive_toolset` などの固有名詞から `card_and_sp_marker` などの機能名に変更し、内容からモード固有の記述を削除しました。

### 4. コードの品質改善
- `App.tsx` 内のタイマーリファレンス (`dotTimerRef` 等) において、`null` と `number` が混在していた箇所を `undefined` に統一し、型エラー（Lintエラー）を解消しました。
- 重複していたプロップや不要な `obsMode` の重複定義などを整理しました。

## 検証ガイド
- **ショートカット**: `R` 長押し(1.5秒)でのリセット、テンキー `.` でのダイス/コインが正常に動作することを確認してください。
- **設定**: 「ウィジェット」タブに、以前のゲーム別セクションに代わって「ライフ設定」と「SPマーカー設定」が表示されていることを確認してください。
- **レイアウト**: 保存済みのレイアウトやデフォルトのレイアウトが正しく読み込めることを確認してください。
- **仕様書**: `docs/system_specifications/` 内のドキュメントが更新されていることを確認してください。
