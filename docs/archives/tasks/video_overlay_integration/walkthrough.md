# ビデオソース・オーバーレイ機能の実装完了

OBSを使用せずに、ブラウザ上で直接カメラ映像や画面キャプチャを取り込み、カード情報をオーバーレイできる機能を実装しました。

## 実装内容

### 1. ビデオ背景コンポーネント (`VideoBackground.tsx`)
- `navigator.mediaDevices` APIを使用して、カメラ映像と画面キャプチャを選択的に取得します。
- 映像の左右反転（ミラー）機能。
- `object-fit: cover` により、アスペクト比を維持しつつ画面全体を背景として覆います。

### 2. コントローラーUIの拡張 (`App.tsx`)
- ヘッダーにビデオソース選択ボタン（OFF / Camera / Screen）を追加しました。
- 映像の左右反転ボタンを追加しました。
- キーボードショートカットを追加：
  - `V`: ビデオソースの切り替え
  - `M`: 左右反転の切り替え

### 3. 同期機能
- `BroadcastChannel` を通じて、コントローラー側でのビデオ設定がオーバーレイ窓にも即座に反映されます。
- オーバーレイ窓を後から開いた場合も、現在のビデオ設定が自動的に同期されます。
- ※セキュリティ上の理由により、映像のキャプチャ許可は各ウィンドウごとに行う必要があります。

### 4. 既存機能との互換性
- 従来のOBS用透過モード（Normal / Transparent / Green）はそのまま維持されており、ビデオ背景と組み合わせて使用できます。

## 検証結果
- [x] ビデオソースの切り替えが正常に動作し、映像が表示されることを確認。
- [x] 左右反転設定が映像に即座に反映されることを確認。
- [x] コントローラーの設定がオーバーレイ別窓に正確に同期されることを確認。
- [x] リセット機能によりビデオソースも初期状態に戻ることを確認。
