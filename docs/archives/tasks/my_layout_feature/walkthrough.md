# マイレイアウト機能の実装完了

「表示プリセット」機能を「マイレイアウト」へと刷新し、ユーザーが自由にウィジェットの配置を保存・復元・エクスポート・インポートできる機能を実装しました。

## 主な変更内容

### 1. マイレイアウト管理 (ストア実装)
- `useWidgetStore.ts` に以下のアクションを実装しました：
    - `saveLayout`: 選択中のウィジェットの状態（位置、回転、スケール、表示、重なり順、グループ構造）を保存。
    - `applyLayout`: 保存されたレイアウトの復元。
    - `deleteLayout`: レイアウトの削除。
    - `importLayout`: 外部JSONファイルからのインポート（バリデーション・サニタイズ付き）。
    - `importDefaultLayouts`: 初回起動時に「遊戯王」「ホロカ」のデフォルト構成を自動インポート。

### 2. アクションバーへの統合
- ウィジェット選択時に表示されるアクションバーに「保存 (Save)」ボタンを追加しました。
- クリックすると名前を入力して、現在の選択状態をマイレイアウトに保存できます。

### 3. 設定メニューの刷新
- 「一般」タブにあった「表示プリセット」セクションを削除し、独立した「マイレイアウト」タブを追加しました。
- レイアウト一覧を表示し、個別に「復元」「エクスポート」「削除」が可能です。
- 「復元時に他を非表示」オプションを実装しました。

### 4. セキュリティと安定性
- JSONインポート時にデータの構造、値の範囲（座標、スケール等）、ウィジェットIDの妥当性をチェックするバリデーションを実装しました。

## 検証結果

### 動作確認内容
- [x] ストアの状態遷移が正しく行われることを確認。
- [x] 重なり順 (Z-order) がレイアウト保存・復元時に維持されることを確認。
- [x] グループ化されたウィジェットが、メンバー全員が保存対象の場合にグループ構造を維持して保存・復元されることを確認。
- [x] インポート時の不正なデータによるクラッシュを防止するバリデーションが動作することを確認。

## ユーザーによる最終確認のお願い
1. 複数のウィジェットを選択し、アクションバーの保存ボタンから名前を付けて保存してください。
2. 設定メニューの「マイレイアウト」タブで、保存したレイアウトが一覧に表示されることを確認してください。
3. 「復元」ボタンを押して、配置が正しく再現されるか確認してください。
4. 「エクスポート」でJSONファイルがダウンロードされ、「インポート」でそれが正しく戻るか確認してください。
