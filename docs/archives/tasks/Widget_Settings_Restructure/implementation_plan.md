# ウィジェットタブ階層構造の刷新計画

ユーザーからご提案いただいた階層構造（汎用／専用／共通）は、今後の拡張性も高く、非常に直感的で素晴らしい整理方法だと考えます。

## 階層構造案の評価とUI改善提案

1.  **UIの可視化についての提案**:
    3階層以上を表現するため、デザイン面で以下のようなメリハリをつけることを提案します。
    *   **第1階層（汎用ウィジェット・専用ウィジェット・共通設定）**:
        はっきりとした「セクション見出し」（テキストサイズ大きめ、下線付き、あるいは背景色あり）で区切ります。
    *   **第2階層・第3階層**:
        現状の `SettingsMenu.tsx` で採用されている「アコーディオン（`ChevronRight`アイコン付きで開閉するパネル）」の仕組みを活用します。
        たとえば、「専用ウィジェット」見出し の下に「遊戯王」というアコーディオンを置き、その中に「ライフポイント表示トグル」「初期値設定」などを格納することで、画面の縦使いすぎを防ぎつつ整理可能です。

2.  **確認事項（疑問点）**:
    *   現在、「共通設定」に該当するウィジェット関連の項目は具体的に存在しないかと思われますが、将来のためのプレースホルダー（枠組み）として「共通設定」セクションを作成しておいてよろしいでしょうか？

## Proposed Changes (変更予定)

### 変更コンポーネント: `src/components/SettingsMenu.tsx`

#### [MODIFY] `SettingsMenu.tsx`
`activeTab === 'widgets'` 表示時のレンダリング構造を以下のように再構築します。

1.  **汎用ウィジェット (General Widgets)** 見出し
    *   ダイス (トグル)
    *   コイン (トグル)
    *   カード画像 (アコーディオン)
        *   画像フォルダの設定 (既存の連携ボタン等)
        *   同名ファイル結合ルール (トグル)
        *   表示カード選択画面を開く (ボタン群)
2.  **専用ウィジェット (Dedicated Widgets)** 見出し
    *   遊戯王 (アコーディオン化するか、単なる小見出しにするか)
        *   ライフポイント (トグル＋詳細設定)
    *   ホロライブ (アコーディオン化するか、単なる小見出しにするか)
        *   SP推しスキルマーカー (トグル)
3.  **共通設定 (Common Settings)** 見出し
    *   (現状は「※設定項目なし」等のプレースホルダー、または必要に応じて追加)

## User Review Required

> [!TIP]
> 上記の「第1階層＝見出し、第2階層＝アコーディオンまたはグループ分類」というUIデザインアプローチで問題ないかご意見をお聞かせください。
> 問題なければこの通りに実装を進めます。

## Verification Plan

*   **手動確認**: 
    - [ ] SettingsMenu を開き、3つの大セクションが正しく見出しとして表示されていること。
    - [ ] 各トグル・アコーディオンが従来通り動作し、パディング等の配置スタイル（先ほど40pxや30pxに寄せたもの）が新レイアウトでも破綻していないこと。
