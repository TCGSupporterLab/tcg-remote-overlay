# タスク: カードウィジェットのドラッグ＆ドロップ改善と状態維持の修正

## 概要
カードウィジェットにおけるドラッグ＆ドロップ（画像・フォルダ）の動作を安定させ、モード切り替え時やフォルダ切り替え時にピン留め情報が正しく維持・表示されるように修正します。

## 課題
1. **ピン留め情報の表示消失**: ライブラリモードでピン留めした後にシンプルモードへ切り替え、再度ライブラリモードに戻すとピン留めカードが表示されなくなる（または画像が壊れる）。
2. **フォルダ切り替え時のキャッシュ復元不備**: `App.tsx` のロジックにより、フォルダ A からフォルダ B へ切り替えた際に B のキャッシュ（ピン留め等）が復元されない。
3. **Blob URL の鮮度管理**: フォルダを跨いだりリロードしたりした際に、キャッシュされたピン留め情報の Blob URL が無効になり、画像が表示できなくなる。

## 解決策
1. `App.tsx` のフォルダ名同期ロジックを修正し、フォルダ名が変更された場合は（以前が空でなくても）常にキャッシュ復元を試行するようにする。
2. `useCardSearch.ts` のピン留め情報リフレッシュ (`useEffect`) の依存配列に `pinnedCards` を追加し、キャッシュから復元された直後にも最新の Blob URL で上書きされるようにする。
3. ドラッグ＆ドロップ時のフィードバックとモード遷移の更なる安定化。
