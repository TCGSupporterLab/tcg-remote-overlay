# 修正内容の確認 (Walkthrough) - レイアウト保存機能の洗練

## 概要
レイアウト保存機能の仕様を「部分的なプリセット」から「完全なスナップショット」まで柔軟に管理できるように拡張しました。また、エントリポイントに応じた直感的な初期設定や用語の統一を行い、ユーザーエクスペリエンスを大幅に向上させました。

## 変更内容

### 1. レイアウト保存ロジックの強化 (`src/store/useWidgetStore.ts`)
- **コンテキスト依存の保存スコープ**: 「他を隠す」がONの場合は全ウィジェット（表示・非表示問わず）を、OFFの場合は表示中のウィジェットのみを保存するように最適化しました。
- **Snapshot機能の実装**: レイアウトに `hideOthers` フラグを追加し、適用時に他のウィジェットを自動的に非表示にする「Snapshotモード」をサポートしました。
- **映像調整の統合**: 映像調整設定（クロップ、回転など）をレイアウトの一部として含めることができるようになりました。

### 2. レイアウト保存ダイアログの追加 (`src/components/SaveLayoutDialog.tsx`)
- 保存対象（ウィジェット、映像調整、他を隠す）をユーザーが選択できる共通ダイアログを新設しました。
- 各エントリポイントに応じたデフォルト設定を自動適用します。

### 3. 用語の統一
- アプリ全体の「ビデオ」という表現を「映像」に統一し、一貫性を持たせました。
- 設定メニュー、アクションバー、ツールチップ、ドキュメントなどすべてのUIテキストを更新しました。

### 4. コンポーネントの統合
- **`App.tsx`**: 共通保存ダイアログの状態管理とハンドラを実装し、各コンポーネントへ機能を供給。
- **`SelectionActionBar.tsx`**: ウィジェット選択時の保存ボタンからダイアログを呼び出し。
- **`SettingsMenu` / `MyLayoutTab` / `VideoTab`**: 設定メニューの各タブから最適な設定で保存ダイアログを呼び出し。
- **`MoveableController.tsx`**: プロップ経由での状態管理に最適化し、パフォーマンスと一貫性を向上。

### 5. デフォルトテンプレートの更新
- `src/data/default_layout/` 内のOSデータ（遊戯王、ホロライブ）を新しいデータ構造に更新し、適用時に他のウィジェットを隠す `hideOthers: true` を設定しました。

## 影響範囲
- 既存のレイアウトデータは自動的に `hideOthers: false` として読み込まれるため、互換性は維持されます。
- 配置のリセット機能が、選択中のウィジェットやグループに対してより正確に動作するようになりました。
