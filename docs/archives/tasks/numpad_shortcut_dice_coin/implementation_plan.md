# 実装計画 - テンキー「.」キーへのショートカット追加

## 1. 現状の分析
- `src/App.tsx` の `useEffect` 内でグローバルなキーボードショートカットが管理されている。
- 現在は `d` (ダイス), `c` (コイン), `v` (ビデオ), `a` (調整) が実装されている。
- `YugiohTools.tsx` や `HololiveTools.tsx` でも個別のショートカット管理があるが、ダイス・コインの基盤は `App.tsx` にある。

## 2. 変更方針
- `App.tsx` に `lastDotTapRef` と `dotTimerRef` を追加し、ダブルタップを検知できるようにする。
- テンキーの「.」に対応する `key` (`.`, `Decimal`) および `code` (`NumpadDecimal`) をハンドリング対象にする。
- 遊戯王モード時：
    - 1回目の押下で300ms待機。
    - 待機中に再度押下されたらコインを振る（`handleFlipCoin`）。
    - 待機時間が経過したらダイスを振る（`handleRollDice`）。
- その他（ホロライブモード等）：
    - 即座にダイスを振る。

## 3. 具体的な修正手順
### src/App.tsx
- `useRef` で変数を定義。
- `handleKeyDown` 内に判定ロジックを追加。
- `useEffect` の依存配列に `gameMode` を追加し、最新の状態を参照できるようにする。
- `useEffect` のクリーンアップで `dotTimerRef` をクリアするようにし、メモリリークや意図しない動作を防ぐ。

## 4. 検証方法
1. 通常モードで入力欄にフォーカスがない状態で「.」を押し、ダイスが振られることを確認。
2. 遊戯王モードで「.」を素早く2回押し、コインが振られることを確認。
3. 検索窓（input）にフォーカスがある状態で「.」を押しても、ダイス/コインが反応しないことを確認。
