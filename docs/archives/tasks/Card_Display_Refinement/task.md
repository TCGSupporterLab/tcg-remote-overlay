# タスク: カード表示ロジックの改善と不具合修正

## 概要
テンプレートフォルダ（リンクのみを含むフォルダ）が表示されない問題の修正、およびフォルダ切り替え時の状態リセット漏れによる挙動の修正。また、ファイルシステムの正確性を向上させるためのパス管理の改善。

## 完了した作業
1. **リンクフォルダの表示修正**
   - `useCardSearch.ts` において、`_link.txt` 経由のカードを常に除外していたロジックを修正。
   - 通常のフォルダブラウジング時はリンクカードもカウント対象に含めることで、リンクのみのフォルダも正しく表示されるように変更。
2. **フォルダ切り替え時の状態リセット**
   - `restoreFolderCache` 関数を修正し、キャッシュがない新しいフォルダを開いた際に、以前のフォルダの「ピン留め」「表示階層」「選択カード」が残らないよう明示的に初期化。
3. **パス管理の正確性向上**
   - ファイル・フォルダ解析時の一律小文字化（`toLowerCase`）を廃止し、OSのオリジナルケースを維持。
   - メタデータとの紐付けを大文字小文字を区別（Case-sensitive）した完全一致に変更。
4. **リンクカードのID管理**
   - リンクカードのIDを「物理的なターゲットパス」に基づいた形式に固定し、異なるフォルダからリンクされても同一カードとして（ピン留め状態などを共有して）扱えるように調整。
